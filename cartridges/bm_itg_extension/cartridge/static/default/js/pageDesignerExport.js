!function(e){var t={};function o(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=24)}({0:function(e,t,o){"use strict";var r=function(){},s={0:"A new process has been initiated.",1:"Operation successful!",2:"This is a warning message.",3:"Oops! Something went wrong. Please try again."},n={0:"info",1:"success",2:"warning",3:"error"};r.TYPES={INFO:0,SUCCESS:1,WARNING:2,ERROR:3},r.show=function(e,t){var o='<div class="toast custom rounded-5 '+n[e]+'-toast" role="alert" aria-live="assertive" aria-atomic="true"><div class="toast-body d-flex align-items-center gap-5 justify-content-between"><p class="tost-msg mb-0 text-md black d-flex align-items-center gap-3">'+(t||s[e])+'</p><div class="separator"></div><button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button></div></div>',r=$(".toast-messaging");r.html(o);var a=r.children().last();new bootstrap.Toast(a[0]).show()},e.exports=r},1:function(e,t,o){"use strict";var r=o(0),s=function(){var e=!1,t=$("#execution_history");if(t.length>0)var o,s=t.data("execution-list-data"),n=s.exportDetailsURL,a=s.showDownloadFile,i=s.downloadFileType,l=s.jobIds,d=s.impexPath,c=setInterval((function(){e||((o=t.find('[data-job-status="PENDING"], [data-job-status="RUNNING"]')).length>0?(e=!0,$.ajax(n,{data:{executionId:o.data("execution-id"),jobIds:l,serviceType:o.data("service-type")?o.data("service-type"):s.serviceType,downloadExportFile:a,downloadFileType:i,impexPath:d},dataType:"json",method:"GET",success:function(e){if(e.success){var s=$(e.renderedTemplate);-1===["PENDING","RUNNING"].indexOf(s.data("job-status"))&&(s.addClass("animate-slide-in-down"),clearInterval(c)),(o=t.find('[data-job-status="PENDING"], [data-job-status="RUNNING"]')).replaceWith(s),setTimeout((function(){t.find("tr").removeClass("animate-slide-in-down")}),1e3)}else e.serverErrors&&e.serverErrors.length>0&&r.show(r.TYPES.ERROR,e.serverErrors[0])},complete:function(){e=!1}})):clearInterval(c))}),3e4)};e.exports={checkProcessStatus:s,handleProcessLink:function(){$(document).on("click",".execution-modal-link",(function(e){e.preventDefault(),$(this).closest("tr").addClass("focused");var t=$(this).closest("tr"),o=$(t).data("job-status"),r=$("#executionModal");if("PENDING"!==o&&"RUNNING"!==o){r.modal("show"),t.closest("tr").addClass("focused");var s=t.find(".execution-modal-link").html(),n=t.closest("tr").data("execution-obj");r.find(".modal-body").spinner().start();var a=n.configurationUUID?n.configurationUUID:"";if(a){var i=$("#execution_history").data("job-logs-url"),l={JobConfigurationUUID:a};$.ajax({url:i,data:l,type:"get",success:function(e){var t,o=$(".log-messages"),a=r.find(".download-section"),i=$(e).find("textarea.inputfield_en").html();switch(""!==$.trim(i)&&o.empty().html(i).removeClass("d-none"),n.executionStatus){case"finished":"OK"===n.status?(t="Success",a.show(),r.find(".download-section a").attr("href",n.exportURL)):(t="Error",a.hide());break;case"aborted":t="Error",a.hide();break;default:t="In-progress",a.hide()}n.processType&&"Import"===n.processType?r.find(".download-section").addClass("d-none"):n.processType&&"Export"===n.processType&&r.find(".download-section").removeClass("d-none");var l='<span class="badge '+t.toLowerCase()+'-badge">'+t+"</span>";r.find(".file-name").empty().html(s.replace(/&lt;/g,"<br/>&lt;")),r.find(".status").empty().html(l),r.find(".time-section .time-message").empty().html(n.timeStatusMessage),r.find(".download-log").attr("href",n.logFileURL),r.find(".modal-body").spinner().stop()}}),r.on("hidden.bs.modal",(function(){$(".table-link").removeClass("focused")}))}}}))},handleCopyLink:function(){$("body").on("click",".log-file-section .copy",(function(e){e.preventDefault();const t=new bootstrap.Tooltip($(this),{trigger:"manual"}),o=$(".log-file-section .log-messages");if(o.length){const e=$(o).text();""!==$.trim(e)&&(navigator.clipboard.writeText(e),t.show(),setTimeout((function(){t.hide()}),1e3))}}))},refreshExecutionList:function(){$(document).on("click",".refresh-execution-list",(function(e){e.preventDefault();var t=$("#execution_history"),o=t.data("execution-list-data"),n=o.exportDetailsURL,a=o.showDownloadFile,i=o.downloadFileType,l=o.jobIds,d=o.impexPath,c=o.maxProcessNumber;t.spinner().start(),$.ajax(n,{data:{jobIds:l,serviceType:o.serviceType,downloadExportFile:a,downloadFileType:i,impexPath:d,maxProcessNumber:c},dataType:"json",method:"get",success:function(e){e.success?($(".execution-list").html(e.renderedTemplate),$(".execution-list").find("tr[data-job-status=RUNNING], tr[data-job-status=PENDING]")&&s(),t.spinner().stop()):e.serverErrors&&e.serverErrors.length>0&&(r.show(r.TYPES.ERROR,e.serverErrors[0]),t.spinner().stop())},complete:function(){$(".refresh-execution-list").blur()}}),$(".refresh-execution-list").blur()}))},validateNoRunningProcess:function(){var e=!0,t=$("#execution_history");if(t.find('[data-job-status="PENDING"], [data-job-status="RUNNING"]').length>0){var o=t.data("running-process-error");r.show(r.TYPES.INFO,o),e=!1}return e}}},24:function(e,t,o){"use strict";var r=o(1),s=o(0);var n=function(){$("form.select-page-form").on("submit",(function(e){e.preventDefault();var t=(e=>{const t=$.trim(e.val());return $(e).val(t),t})($("#pageDesignerSearchTerm"));if(t){var o=t.split("\n").map((function(e){return e.trim()})),r=o.join("\n"),s="("+(o=o.join(", "))+")";$("#exportModal").find(".files-name").text(s),$("#exportModal").find("#selectedContentIds").val(r),$("#exportModal").modal("show")}}));var e=$("#pageDesignerSearchTerm").outerHeight();$("form.export-file-form").on("submit",(function(t){var o=$(this);t.preventDefault();var n=$("#exportFileName").val();if(""!==$.trim(n)){var a=o.attr("action");r.validateNoRunningProcess()&&($("body").spinner().start(),$.ajax({url:a,data:o.serialize(),type:"post",success:function(t){$("body").spinner().stop();var o=$("#execution_history").find(".table");if(t.success){var n=t.renderedTemplate;o.find("tbody tr").length>=5&&o.find("tbody tr:last").remove(),o.find("tbody").prepend(n),r.checkProcessStatus()}else t.serverErrors&&t.serverErrors.length&&$.each(t.serverErrors,(function(e,t){s.show(s.TYPES.ERROR,t)}));$(".export-file-form .invalid-feedback").text(""),$("#exportModal").modal("hide"),$("#exportFileName").val(""),$("#pageDesignerSearchTerm").val(""),$("#pageDesignerSearchTerm").css("height",e),$("#pageDesignerSearchTerm").css("overflow-y","hidden")},error:function(){$("body").spinner().stop()}}))}}))};$(document).ready((function(){n(),$(".pagedesigner-form .form-control").on("input",(function(){var e;(e=$(this)).closest(".form-group").hasClass("has-error")&&(e.closest(".form-group").find(".invalid-feedback").hide(),e.closest(".form-group").removeClass("has-error"),e.removeClass("is-invalid"))}))}))}});