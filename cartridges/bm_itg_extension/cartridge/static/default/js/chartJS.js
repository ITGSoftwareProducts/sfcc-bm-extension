!function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=3)}({3:function(t,e,a){"use strict";var n=jQuery;let r=null,o=[],s=[];const i=function(t){return t.map(t=>function(t){return(t?t.charAt(0).toUpperCase():"")+t.slice(1)}(t)+" Executions")},c=function(t){return`${("0"+t.getHours()).slice(-2)}:${("0"+t.getMinutes()).slice(-2)}:${("0"+t.getSeconds()).slice(-2)}.${("00"+t.getMilliseconds()).slice(-3)}`};function d(t,e=2){return t.toString().padStart(e,"0")}const l=function({startTime:t,endTime:e,data:a}){r&&(r.destroy(),r=null),s.push(...a);var l=new Date(t);l.setSeconds(0,0);const u=90+60*o.length;n(".chart-area-wrapper2").attr("height",u),n("#myChart").attr("height",u);var p=document.getElementById("myChart").getContext("2d"),m=!1;const f={type:"bar",data:{datasets:s,labels:i(o)},options:{responsive:!0,indexAxis:"y",maintainAspectRatio:!1,scales:{y:{stacked:!0,ticks:{stepSize:1,fontColor:"#11181C",padding:25,align:"start",font:{size:14,weight:"600"}}},x:{min:l,max:e,type:"time",position:"top",time:{unit:"minute"},ticks:{autoSkip:!1,reverse:!1,stepSize:5,fontColor:"#687076",padding:12},barPercentage:.9,categoryPercentage:.9}},animation:{onProgress:function(){if(!m&&r){var t=window.devicePixelRatio,e=r.canvas,a=r.scales.y.width-28,o=r.scales.y.height+r.scales.y.top+10,s=document.getElementById("axis-test").getContext("2d");s.scale(t,t),s.canvas.width=a*t,s.canvas.height=o*t,s.canvas.style.width=a+"px",s.canvas.style.height=o+"px",s.drawImage(e,0,0,a*t,o*t,0,0,a*t,o*t),e.getContext("2d").clearRect(0,0,a*t,o*t),m=!0,n(".chart-area-wrapper").scrollLeft(0)}}},plugins:{legend:{display:!1},tooltip:{enabled:!1,position:"nearest",external:function(t){let e=document.getElementById("chartjs-tooltip");e||(e=document.createElement("div"),e.id="chartjs-tooltip",e.innerHTML='<table class="custom-tooltip bg-surface-white  d-flex"></table>',document.body.appendChild(e));const a=t.tooltip;if(0===a.opacity)return void(e.style.opacity=0);if(a.body){const n=a.body.map((function(t){return t.lines}));let r="<tbody>";const o=t.tooltip.dataPoints[0].dataset;n.forEach((function(){const t='<td class="tooltip-label text-end slate-11 text-sm pe-4"> Start Time </td><td class="text-start">'+c(o.startTime)+"</td>",e='<td class="tooltip-label slate-11 text-end text-sm pe-4"> End Time </td><td class="text-start">'+(o.endTime?c(o.endTime):" - ")+"</td>",a='<td class="tooltip-label slate-11 text-end text-sm pe-4 pb-3"> Duration </td><td class="pb-3 text-start">'+function(t){const e=Math.floor(t/36e5),a=Math.floor(t%36e5/6e4),n=Math.floor(t%6e4/1e3),r=t%1e3;return`${d(e)}:${d(a)}:${d(n)}:${d(r,3)}`}(o.duration)+"</td>";let n="",s=o.status;"OK"===s&&(s="Success"),n="OK"===o.status?"badge success-badge":"ERROR"===o.status?"badge error-badge":-1!==["PENDING","RUNNING"].indexOf(o.status)?"badge in-progress-badge":"badge back-order-badge";const i='<td class="text-end text-sm pe-4 pt-3"> Exit Status </td><td class="d-flex align-items-center text-start text-sm mt-3 '+n+'">'+s+"</td>";r+='<tr class="scheduled-time">'+t+"</tr>",r+='<tr class="scheduled-time">'+e+"</tr>",r+='<tr class="duration">'+a+"</tr>";const l=o.userLogin?"Client User":"Server";r+=`<tr class="executor">${'<td class="tooltip-label slate-11 text-end text-sm pe-4 pt-3 pb-3"> Executor Type </td><td class="text-start">'+l+"</td>"}</tr>`;let u="";o.userLogin&&(u='<td class="tooltip-label slate-11 text-end text-sm pe-4 pb-3"> Client User ID </td><td class="text-start pb-3">'+o.userLogin+"</td>",r+='<tr class="user-login">'+u+"</tr>"),r+='<tr class="status '+o.status.toLowerCase()+'">'+i+"</tr>"})),r+="</tbody>",e.querySelector(".custom-tooltip").innerHTML=r}e.style.opacity=1,e.style.position="absolute";const r=parseInt(n("#myChart").data("pointer-x"),10)-e.clientWidth,o=parseInt(n("#myChart").data("pointer-y"),10)-e.clientHeight-22;e.style.left=r+"px",e.style.top=o+"px",e.style.pointerEvents="none"}}}}};n(".empty-search-result").addClass("d-none"),n(".chart-wrapper").removeClass("d-none"),r=new Chart(p,f),n("#myChart").on("mousemove",(function(t){n("#myChart").data("pointer-x",t.pageX),n("#myChart").data("pointer-y",t.pageY)}))};function u(t,e){var a=new Date(t.toLocaleString("en-US",{timeZone:e})),n=t.getMilliseconds(),r=t.getTime()-a.getTime(),o=new Date(t.getTime()-r);return new Date(o.setMilliseconds(n))}const p=function({startTime:t,endTime:e,total:a}){const r=new Date(t).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"}),o=new Date(e).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"}),s={hour:"numeric",minute:"numeric"},i=new Date(t).toLocaleTimeString(void 0,s),c=new Date(e).toLocaleTimeString(void 0,s);r===o?n(".chart-info .date").text(r):n(".chart-info .date").text(`${r} - ${o}`),n(".chart-info .start-time").text(i),n(".chart-info .space").text("-"),n(".chart-info .end-time").text(c),1===a?n(".chart-info .total-executions").text(a+" Execution"):a>1?n(".chart-info .total-executions").text(a+" Executions"):n(".chart-info .total-executions").text("")};t.exports={checkChart:function(){var t=document.getElementById("axis-test").getContext("2d");r&&(r.destroy(),r=null,s=[],o=[],t.clearRect(0,0,t.canvas.width,t.canvas.height))},initializeCanvas:l,mapChartData:function(t){var{endTime:e,jobExecutionObj:a,startTime:n,total:r,timeZone:s}=t;let i=[];if(a){Object.keys(a).forEach(t=>{-1===o.indexOf(t)&&o.push(t)}),i=Object.entries(a).reduce((t,e)=>{const[a,r]=e,i=o.indexOf(a),c=r.filter(t=>new Date(t.start_time)>=new Date(n)).map(t=>{var{job_id:e,start_time:n,end_time:r,status:o,executor:c,duration:d,userLogin:l}=t;const p={PENDING:"#ede9fe",RUNNING:"#ede9fe",OK:"#D2F7ED",ERROR:"#FFE5E5",ABORTED:"#FFF8BB",DEFAULT:"#FFF8BB"},m={PENDING:"#aa99ec",RUNNING:"#aa99ec",OK:"#40C4AA",ERROR:"#E5484D",ABORTED:"#EBBC00",DEFAULT:"#EBBC00"},f=new Array(i+1);return f[i]=((t,e,a)=>{var n=u(new Date(t),a),r=u(e?new Date(e):new Date,a),o=n.getTime(),s=r.getTime();return s-o<6e4?[o,o+6e4]:[o,s]})(n,r,s),n=u(new Date(n),s),r=r?u(new Date(r),s):null,{label:`${a} - ${e}`,data:[...f],backgroundColor:p[o]||p.DEFAULT,borderWidth:"1",borderRadius:8,borderColor:m[o]||m.DEFAULT,borderSkipped:!1,startTime:n,userLogin:l,endTime:r,duration:d,executor:c,status:o}});return t.push(...c),t},[])}return n=u(new Date(n),s),e=u(new Date(e),s),{jobDatasets:i,startTime:n,endTime:e,total:r}},printChartInfo:p,updateChart:function({jobDatasets:t,startTime:e,endTime:a,total:o}){if(p({startTime:e,endTime:a,total:o}),0===o)return r&&r.destroy(),n(".empty-search-result").removeClass("d-none"),n(".empty-search-result .empty-job-execution-msg1").text("No job executions were found in the selected time frame."),n(".chart-wrapper").addClass("d-none"),void n(".empty-job-execution-msg2").addClass("d-none");l({startTime:e,endTime:a,data:t})}}}});