!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}({3:function(t,e,n){"use strict";var a=jQuery;let o=null,r=[],s=[];const i=function(t){return t.map(t=>function(t){return(t?t.charAt(0).toUpperCase():"")+t.slice(1)}(t)+" Executions")},c=function(t){return`${("0"+t.getHours()).slice(-2)}:${("0"+t.getMinutes()).slice(-2)}:${("0"+t.getSeconds()).slice(-2)}.${("00"+t.getMilliseconds()).slice(-3)}`};function l(t,e=2){return t.toString().padStart(e,"0")}const d=function({startTime:t,endTime:e,data:n}){o&&(o.destroy(),o=null),s.push(...n);var d=new Date(t);d.setSeconds(0,0);const u=90+60*r.length;a(".chart-area-wrapper2").attr("height",u),a("#myChart").attr("height",u);var p=document.getElementById("myChart").getContext("2d"),m=!1;const f={type:"bar",data:{datasets:s,labels:i(r)},options:{responsive:!0,indexAxis:"y",maintainAspectRatio:!1,scales:{y:{stacked:!0,ticks:{stepSize:1,fontColor:"#11181C",padding:25,align:"start",font:{size:14,weight:"600"}}},x:{min:d,max:e,type:"time",position:"top",time:{unit:"minute"},ticks:{autoSkip:!1,reverse:!1,stepSize:5,fontColor:"#687076",padding:12},barPercentage:.9,categoryPercentage:.9}},animation:{onProgress:function(){if(!m&&o){var t=window.devicePixelRatio,e=o.canvas,n=o.scales.y.width-28,r=o.scales.y.height+o.scales.y.top+10,s=document.getElementById("axis-test").getContext("2d");s.scale(t,t),s.canvas.width=n*t,s.canvas.height=r*t,s.canvas.style.width=n+"px",s.canvas.style.height=r+"px",s.drawImage(e,0,0,n*t,r*t,0,0,n*t,r*t),e.getContext("2d").clearRect(0,0,n*t,r*t),m=!0,a(".chart-area-wrapper").scrollLeft(0)}}},plugins:{legend:{display:!1},tooltip:{enabled:!1,position:"nearest",external:function(t){let e=document.getElementById("chartjs-tooltip");e||(e=document.createElement("div"),e.id="chartjs-tooltip",e.innerHTML='<table class="custom-tooltip bg-surface-white  d-flex"></table>',document.body.appendChild(e));const n=t.tooltip;if(0===n.opacity)return void(e.style.opacity=0);if(n.body){const a=n.body.map((function(t){return t.lines}));let o="<tbody>";const r=t.tooltip.dataPoints[0].dataset;a.forEach((function(){const t='<td class="tooltip-label text-end slate-11 text-sm pe-4"> Start Time </td><td class="text-start">'+c(r.startTime)+"</td>",e='<td class="tooltip-label slate-11 text-end text-sm pe-4"> End Time </td><td class="text-start">'+(r.endTime?c(r.endTime):" - ")+"</td>",n='<td class="tooltip-label slate-11 text-end text-sm pe-4 pb-3"> Duration </td><td class="pb-3 text-start">'+function(t){const e=Math.floor(t/36e5),n=Math.floor(t%36e5/6e4),a=Math.floor(t%6e4/1e3),o=t%1e3;return`${l(e)}:${l(n)}:${l(a)}:${l(o,3)}`}(r.duration)+"</td>";let a="",s=r.status;"OK"===s&&(s="Success"),a="OK"===r.status?"badge success-badge":"ERROR"===r.status?"badge error-badge":-1!==["PENDING","RUNNING"].indexOf(r.status)?"badge in-progress-badge":"badge back-order-badge";const i='<td class="text-end text-sm pe-4 pt-3"> Exit Status </td><td class="d-flex align-items-center text-start text-sm mt-3 '+a+'">'+s+"</td>";o+='<tr class="scheduled-time">'+t+"</tr>",o+='<tr class="scheduled-time">'+e+"</tr>",o+='<tr class="duration">'+n+"</tr>";const d=r.userLogin?"Client User":"Server";o+=`<tr class="executor">${'<td class="tooltip-label slate-11 text-end text-sm pe-4 pt-3 pb-3"> Executor Type </td><td class="text-start">'+d+"</td>"}</tr>`;let u="";r.userLogin&&(u='<td class="tooltip-label slate-11 text-end text-sm pe-4 pb-3"> Client User ID </td><td class="text-start pb-3">'+r.userLogin+"</td>",o+='<tr class="user-login">'+u+"</tr>"),o+='<tr class="status '+r.status.toLowerCase()+'">'+i+"</tr>"})),o+="</tbody>",e.querySelector(".custom-tooltip").innerHTML=o}const a=t.chart.canvas.getBoundingClientRect(),o=a.left+window.scrollX+n.caretX-e.clientWidth,r=a.top+window.scrollY+n.caretY-e.clientHeight-22;e.style.opacity=1,e.style.position="absolute",e.style.left=o+"px",e.style.top=r+"px",e.style.pointerEvents="none"}}}}};a(".empty-search-result").addClass("d-none"),a(".chart-wrapper").removeClass("d-none"),o=new Chart(p,f)};function u(t,e){var n=new Date(t.toLocaleString("en-US",{timeZone:e})),a=t.getMilliseconds(),o=t.getTime()-n.getTime(),r=new Date(t.getTime()-o);return new Date(r.setMilliseconds(a))}const p=function({startTime:t,endTime:e,total:n}){const o=new Date(t).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"}),r=new Date(e).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit",year:"numeric"}),s={hour:"numeric",minute:"numeric"},i=new Date(t).toLocaleTimeString(void 0,s),c=new Date(e).toLocaleTimeString(void 0,s);o===r?a(".chart-info .date").text(o):a(".chart-info .date").text(`${o} - ${r}`),a(".chart-info .start-time").text(i),a(".chart-info .space").text("-"),a(".chart-info .end-time").text(c),1===n?a(".chart-info .total-executions").text(n+" Execution"):n>1?a(".chart-info .total-executions").text(n+" Executions"):a(".chart-info .total-executions").text("")};t.exports={checkChart:function(){var t=document.getElementById("axis-test").getContext("2d");o&&(o.destroy(),o=null,s=[],r=[],t.clearRect(0,0,t.canvas.width,t.canvas.height))},initializeCanvas:d,mapChartData:function(t){var{endTime:e,jobExecutionObj:n,startTime:a,total:o,timeZone:s}=t;let i=[];if(n){Object.keys(n).forEach(t=>{-1===r.indexOf(t)&&r.push(t)}),i=Object.entries(n).reduce((t,e)=>{const[n,o]=e,i=r.indexOf(n),c=o.filter(t=>new Date(t.start_time)>=new Date(a)).map(t=>{var{job_id:e,start_time:a,end_time:o,status:r,executor:c,duration:l,userLogin:d}=t;const p={PENDING:"#ede9fe",RUNNING:"#ede9fe",OK:"#D2F7ED",ERROR:"#FFE5E5",ABORTED:"#FFF8BB",DEFAULT:"#FFF8BB"},m={PENDING:"#aa99ec",RUNNING:"#aa99ec",OK:"#40C4AA",ERROR:"#E5484D",ABORTED:"#EBBC00",DEFAULT:"#EBBC00"},f=new Array(i+1);return f[i]=((t,e,n)=>{var a=u(new Date(t),n),o=u(e?new Date(e):new Date,n),r=a.getTime(),s=o.getTime();return s-r<6e4?[r,r+6e4]:[r,s]})(a,o,s),a=u(new Date(a),s),o=o?u(new Date(o),s):null,{label:`${n} - ${e}`,data:[...f],backgroundColor:p[r]||p.DEFAULT,borderWidth:"1",borderRadius:8,borderColor:m[r]||m.DEFAULT,borderSkipped:!1,startTime:a,userLogin:d,endTime:o,duration:l,executor:c,status:r}});return t.push(...c),t},[])}return a=u(new Date(a),s),e=u(new Date(e),s),{jobDatasets:i,startTime:a,endTime:e,total:o}},printChartInfo:p,updateChart:function({jobDatasets:t,startTime:e,endTime:n,total:r}){if(p({startTime:e,endTime:n,total:r}),0===r)return o&&o.destroy(),a(".empty-search-result").removeClass("d-none"),a(".empty-search-result .empty-job-execution-msg1").text("No job executions were found in the selected time frame."),a(".chart-wrapper").addClass("d-none"),void a(".empty-job-execution-msg2").addClass("d-none");d({startTime:e,endTime:n,data:t})}}}});